DOCTYPE 
   html 
      head 
         title File upload
         style.
            body {
               width:auto;
               background-color:red;
               display:flex;
               flex-direction:column;
               align-items:center;
               color:#fff;
            }
            form {
               width:400px;
               margin:20px auto;
               border:2px solid silver;
               padding:100px;
            }
            .data {
               position:relative;
               left:30px;
               top:10px;
            }
            input[type="submit"] {
               width:auto;
               border:none;
               font-size:20px;
            }
      body
         form(action="/upload-file" method="post" id='form')
            input(type="file" name="upfile" id="upfile",required) 
            input(type="submit" value="upload" id='submit-btn')
         div 
            p.data
            p.data
            p.data
      script. 


         document.getElementById('form').addEventListener('submit',submit)


         async function submit(e){
            e.preventDefault()
            const file = document.getElementById('upfile')
            if(Boolean(file.files.length)){
            let formData =  new FormData()
            const fileInput = file.files[0]

            formData.append('file',fileInput) 

            const results = await fetch('https://filemetadata-prpm.onrender.com/upload-file',{method:'POST',body:formData})

            const  response = await results.json()

            let showd =  document.querySelectorAll('.data')
            let list =  Array.from(showd)
            list.forEach((item,i)=>item.textContent = response[i])
            console.log(response)



               document.querySelector('form').reset();
            } else {
               console.log('please upload a file')
            }
            }


